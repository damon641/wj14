{% extends "partition/layout.html" %} {% block body %}


<!-- Main Content -->
<div class="page-wrapper">
    <div class="container-fluid">

        <!-- Title -->
        <section class="content-header">
            <h1>Maintenance </h1>
            <ol class="breadcrumb">
                <li><a href="#"><i class="fa fa-dashboard"></i> Dashboard</a></li>
                <li class="active">Edit Maintenance</li>
            </ol>
        </section>
        <!-- /Title -->
        {% include "partition/notification.html" %}
        <!-- Row -->
        <section class="content">
            <div class="row">
                <div class="col-sm-12">
                    <div class="panel panel-default card-view">
                        <div class="panel-heading">
                            <div class="pull-left">
                                <h6 class="panel-title txt-dark">Edit Maintenance</h6>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <div class="panel-wrapper collapse in">
                            <div class="panel-body">

                                <div class="table-wrap">
                                    <div class="table-responsive">
                                        <form method="POST" action="/maintenance/quick/edit/{{setting._id}}" class="form-horizontal">
                                            <table border="0" class="table display  pb-30">
                                                <div class="col-sm-6">
                                                    <div class="panel-wrapper collapse in">
                                                        <div class="panel-body">
                                                            <!-- <div class="form-group">
																<label class="control-label mb-10 col-sm-4" for="message">Message:</label>
																<div class="col-sm-8">
																	<input required="required" class="form-control"placeholder="Message"  name="message" type="text" id="" value="{{setting.maintenance.message}}">
																</div>
															</div> -->
                                                            <div class="form-group">
                                                                <label class="control-label mb-10 col-sm-4" for="quickMaintenance">Status:</label>
                                                                <div class="col-sm-8">
                                                                    <select class="form-control" name="quickMaintenance" id="quickMaintenance">
																		<option value="inactive" {{ "selected" if setting.maintenance.quickMaintenance=='inactive' else "" }} >Inactive</option>
																		<option value="active" {{ "selected" if setting.maintenance.quickMaintenance=='active' else "" }} >Active</option>
																	</select>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- <tr>
													<td colspan="2" >
														<div class="pull-left">
														<input type="submit" class="btn    btn-flat  btn-success " value="Submit">
														<a href="/maintenance" class="btn btn-danger btn-flat">Cancel</a>
															</div>
													</td>
												</tr> -->
                                            </table>
                                            <div class="box-footer">
                                                <input type="submit" class="btn btn-success btn-poker float-right ml-2" value="Submit">
                                                <a href="/maintenance" class="btn btn-danger float-right">Cancel</a>
                                            </div>
                                        </form>
                                    </div>
                                </div>

                                <hr>

                                <div class="table-wrap">
                                    <div class="table-responsive">
                                        <form method="POST" action="/maintenance/edit/{{setting._id}}" class="form-horizontal">
                                            <table border="0" class="table display  pb-30">
                                                <div class="col-sm-6">
                                                    <div class="panel-wrapper collapse in">
                                                        <div class="panel-body">
                                                            <div class="form-group">
                                                                <label class="control-label mb-10 col-sm-4" for="message">Message:</label>
                                                                <div class="col-sm-8">
                                                                    <input required="required" class="form-control" placeholder="Message" name="message" type="text" id="" value="{{setting.maintenance.message}}">
                                                                </div>
                                                            </div>

                                                            <div class="form-group">
                                                                <label class="control-label mb-10 col-sm-4" for="showBeforeMinutes">Display Message Before(in minutes):</label>
                                                                <div class="col-sm-8">
                                                                    <input required="required" class="form-control" placeholder="shoe Message Before" name="showBeforeMinutes" type="number" id="showBeforeMinutes" autocomplete="off" value="{{setting.maintenance.showBeforeMinutes}}">
                                                                </div>
                                                            </div>


                                                            <div class="form-group" {%if(isMaintenance!=true) %} style="display: block;" {% else %} style="display: none;" {% endif %}>
                                                                <label class="control-label mb-10 col-sm-4" for="maintenance_start_date">Maintenance Start Date/Time:</label>
                                                                <div class="col-sm-8">
                                                                    <input {%if(isMaintenance==true) %} disabled {% endif %} required="required" class="form-control" placeholder="Date And Time" name="maintenance_start_date" type="text" id="maintenance_start_date" data-date-format="YYYY-MM-DD HH:mm" value="{{maintenance_start_date}}">                                                                    <small><span style="color:red">*</span>  In 24 Hours Format</small>
                                                                </div>
                                                            </div>


                                                            <div class="form-group">
                                                                <label class="control-label mb-10 col-sm-4" for="maintenance_end_date">Maintenance End Date/Time:</label>
                                                                <div class="col-sm-8">
                                                                    <input required="required" class="form-control" placeholder="Date And Time" name="maintenance_end_date" type="text" id="maintenance_end_date" data-date-format="YYYY-MM-DD HH:mm" value="{{maintenance_end_date}}">                                                                    <small><span style="color:red">*</span>  In 24 Hours Format</small>
                                                                    <input type="hidden" name="maintenanceCheck" value="{{isMaintenance}}">
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- <tr>
													<td colspan="2" >
														<div class="pull-left">
														<input type="submit" class="btn    btn-flat  btn-success " value="Submit">
														<a href="/maintenance" class="btn btn-danger btn-flat">Cancel</a>
															</div>
													</td>
												</tr> -->
                                            </table>
                                            <div class="box-footer">
                                                <input type="submit" class="btn btn-success btn-poker float-right ml-2" value="Submit">
                                                <a href="/maintenance" class="btn btn-danger float-right">Cancel</a>
                                            </div>
                                        </form>
                                    </div>
                                </div>




                            </div>
                        </div>
                    </div>
                </div>
                <!-- /Row -->
            </div>
        </section>

        {% endblock %} {% block Jscript %} {#
        <script src="/vendors/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
        <script src="/vendors/bootstrap-timepicker/bootstrap-clockpicker.min.js"></script>


        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.5.1/moment.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/3.0.0/js/bootstrap-datetimepicker.min.js"></script> #}
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.min.css" integrity="sha256-yMjaV542P+q1RnH6XByCPDfUFhmOafWbeLPmqKh11zo=" crossorigin="anonymous" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js" integrity="sha256-5YmaxAwMjIpMrVlK84Y/+NjCpKnFYa8bWWBbUHSBGfU=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.5.1/moment.min.js"></script>
        <script>
            $(document).ready(function() {
                let today = new Date();
                let yesterday = new Date(today);
                yesterday.setDate(today.getDate() - 1);
                $('#maintenance_start_date , #maintenance_end_date').datetimepicker({
                    minDate: yesterday
                });
                var host = window.location.origin;
            });
        </script>


        {% endblock %}